<div class="row mb-4">
    <div class="col-12">
        <div
            class="d-flex flex-column flex-lg-row justify-content-between align-items-start align-items-lg-center gap-3">
            <h2 class="fw-bold text-cyber-green mb-0 text-center text-lg-start">
                <i class="fas fa-dumbbell me-2"></i>Ejercicios
            </h2>

            <div class="w-100">
                <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-end gap-2">
                    <!-- Boton nuevo admin -->
                    <!-- Boton nuevo admin -->
                    <div id="adminControls" class="d-none flex-wrap align-items-center gap-2">
                        <button class="btn btn-outline-warning btn-sm text-nowrap" id="btnIncompleteToggle"
                            onclick="window.toggleIncompleteFilter()" title="Ver ejercicios con datos faltantes">
                            <i class="fas fa-exclamation-triangle me-1"></i> Falta Data
                        </button>
                        <button class="btn btn-cyber-primary text-nowrap" id="btnNewExercise"
                            onclick="openExerciseModal()">
                            <i class="fas fa-plus me-1"></i> <span class="d-none d-md-inline">Nuevo</span>
                        </button>
                    </div>

                    <!-- Sort Dropdown -->
                    <div class="dropdown">
                        <button class="btn btn-outline-secondary dropdown-toggle" type="button"
                            data-bs-toggle="dropdown">
                            <i class="fas fa-sort me-1"></i>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end bg-card border-secondary shadow">
                            <li>
                                <h6 class="dropdown-header text-muted small">Ordenar por</h6>
                            </li>
                            <li><a class="dropdown-item text-white" href="#"
                                    onclick="window.setSort('name', 'asc')">Nombre (A-Z)</a></li>
                            <li><a class="dropdown-item text-white" href="#"
                                    onclick="window.setSort('name', 'desc')">Nombre (Z-A)</a></li>
                            <li>
                                <hr class="dropdown-divider bg-secondary">
                            </li>
                            <li><a class="dropdown-item text-white" href="#"
                                    onclick="window.setSort('newest', 'desc')">Más Recientes</a></li>
                        </ul>
                    </div>

                    <!-- Selector de vista -->
                    <div class="btn-group" role="group" aria-label="View Mode">
                        <button type="button" class="btn btn-outline-secondary active" id="btnViewGrid"
                            onclick="switchView('grid')" title="Vista Cuadrícula">
                            <i class="fas fa-th-large"></i>
                        </button>
                        <button type="button" class="btn btn-outline-secondary" id="btnViewList"
                            onclick="switchView('list')" title="Vista Lista">
                            <i class="fas fa-list"></i>
                        </button>
                    </div>

                    <div class="input-group flex-grow-1 flex-lg-grow-0" style="min-width: 220px; max-width: 420px;">
                        <span class="input-group-text bg-dark border-secondary text-secondary"><i
                                class="fas fa-search"></i></span>
                        <input type="text" class="form-control bg-dark text-white border-secondary" id="mainSearch"
                            placeholder="Buscar ejercicio...">
                    </div>

                    <button class="btn btn-outline-secondary text-nowrap" onclick="resetFilters()"
                        title="Restablecer filtros">
                        <i class="fas fa-undo me-1"></i>
                    </button>
                </div>

                <div class="row g-2 mt-2 align-items-end">
                    <div class="col-6 col-md-4 col-xl-2">
                        <select class="form-select bg-dark text-white border-secondary w-100" id="filterSection">
                            <option value="">Sección...</option>
                        </select>
                    </div>
                    <div class="col-6 col-md-4 col-xl-2">
                        <select class="form-select bg-dark text-white border-secondary w-100 opacity-50"
                            id="filterGroup" disabled>
                            <option value="">Grupo...</option>
                        </select>
                    </div>
                    <div class="col-6 col-md-4 col-xl-2">
                        <select class="form-select bg-dark text-white border-secondary w-100 opacity-50"
                            id="filterMuscle" disabled>
                            <option value="">Músculo...</option>
                        </select>
                    </div>
                    <div class="col-6 col-md-4 col-xl-3">
                        <select class="form-select bg-dark text-white border-secondary w-100" id="filterEquipment">
                            <option value="">Equipo</option>
                            <option value="barbell">Barra</option>
                            <option value="dumbbell">Mancuernas</option>
                            <option value="machine">Máquina</option>
                            <option value="cable">Polea / Cable</option>
                            <option value="band">Banda</option>
                            <option value="bench">Banco</option>
                            <option value="bodyweight">Peso Corporal</option>
                            <option value="other">Otro</option>
                        </select>
                    </div>
                    <div class="col-6 col-md-4 col-xl-3">
                        <select class="form-select bg-dark text-white border-secondary w-100" id="filterType">
                            <option value="">Tipo</option>
                            <option value="weight">Peso</option>
                            <option value="time">Tiempo</option>
                            <option value="cardio">Cardio</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>